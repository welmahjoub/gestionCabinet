<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<!--=============================================================================================================== -->
    <!--===========================================   Head  ============================================= -->
	<!-- =============================================================================================================== -->

	<div th:include="Admin/Include::head"></div>

	<!--=============================================================================================================== -->
    <!--===========================================  FIN head  ============================================= -->
	<!-- =============================================================================================================== -->

	<!--=============================================================================================================== -->
    <!--===========================================   Body  ============================================= -->
	<!-- =============================================================================================================== -->

<body>


	<!--=============================================================================================================== -->
    <!--===========================================   Menu Header ============================================= -->
	<!-- =============================================================================================================== -->

	<div th:include="Admin/Include::header">
		
	</div>

	<!--=============================================================================================================== -->
    <!--===========================================  FIN Menu Header ============================================= -->
	<!-- =============================================================================================================== -->


	<!--=============================================================================================================== -->
    <!--=========================================== Center  ============================================= -->
	<!-- =============================================================================================================== -->

	<article>

		<div class="container">

				<!--===================================================================== -->
			    <!--==================== Formulaire Ajout Patient  ============= -->
				<!-- ==================================================================== -->

				<form action="/Admin/AddPatient" method="post" enctype="multipart/form-data">


				   <!--===================================================================== -->
		           <!--==================== Image ============= -->
		           <!-- ==================================================================== -->
		           <div class="form-group">

		            <center>
		              <img  class="rounded float-left" 
		                   id="label" name="label" style="width: 200px;height: 200px;" /> 
		            </center>

		           </div>

					<div class="form-row">

			           <center>
			              <input type="file" class="form-control-file" id="image" name="image" 
                			onchange="changerImage(this);"  />
                		</center>	

			        </div>

			        <br/>

					<!--===================================================================== -->
				    <!--==================== Cin Nom et prenom  ============= -->
					<!-- ==================================================================== -->

					<div class="form-row">

						<div class="form-group col-md-6">
							<label for="Prenom">CIN</label>
							<input type="text"  required="required" name="cin" pattern="[0-9]*" minlength="8" maxlength="8"
								oninvalid="setCustomValidity(' CIN obligatoire : 8 chiffres ')"
								oninput="setCustomValidity('')" 
							 	class="form-control"  placeholder="8 chiffres" th:value="${patient.cin}"  />

						</div>
						<div class="form-group col-md-6">
							<label for="nomprenom">Nom Prenom</label> 
							<input type="text"  required="required"  class="form-control" name="nomprenom" placeholder="Nom Prenom" th:value="${patient.nomprenom}"
							oninvalid="setCustomValidity('Nom et Prenom sont obligatoires')"
							oninput="setCustomValidity('')"  />
						</div>

					</div>

					<!--===================================================================== -->
				    <!--==================== username et password   ============= -->
					<!-- ==================================================================== -->

					<div class="form-row">

						<div class="form-group col-md-6">
							<label for="login">Username</label> 
							<input type="text" class="form-control" name="login" placeholder="Username"
							th:value="${patient.login}" required="required"
							oninvalid="setCustomValidity('Username obligatoire')"
							oninput="setCustomValidity('') " />
						</div>

						<div class="form-group col-md-6">
							<label for="password">Password</label>
							<input type="password"   class="form-control" name="password" placeholder="Password"
							th:value="${patient.password}" required="required"
							oninvalid="setCustomValidity('Password obligatoire')"
							oninput="setCustomValidity('') " />
						</div>

					</div>

					<!--===================================================================== -->
				    <!--==================== Telephone et domicile   ============= -->
					<!-- ==================================================================== -->

	  				<div class="form-row">

						<div class="form-group col-md-6">
							<label for="telephone">Telephone</label> 
							<input type="text"   class="form-control" name="telephone"  
								pattern="[0-9]*" minlength="8" maxlength="8" placeholder="telephone"
								th:value="${patient.telephone}"
								oninvalid="setCustomValidity(' Telephone valide : 8 chiffres ')"
							    oninput="setCustomValidity('')" />
						</div>

						<div class="form-group col-md-6">
							<label for="password">Domicile</label>
							<input type="text" class="form-control"   name="domicile" 
								pattern="[0-9]*" minlength="8" maxlength="8"  placeholder="domicile"
								th:value="${patient.domicile}"
								oninvalid="setCustomValidity(' Domicile valide : 8 chiffres ')"
							    oninput="setCustomValidity('')" />

						</div>

					</div>

				  	<!--===================================================================== -->
				    <!--==================== email et adresse  ============= -->
					<!-- ==================================================================== -->

	  				<div class="form-row">

						<div class="form-group col-md-6">
							<label for="email">Email</label> 
							<input type="email" class="form-control"   name="email" placeholder="email" 
								oninvalid="setCustomValidity('Email valide : _____@_____')"
								oninput="setCustomValidity('')" 
								th:value="${patient.email}" />
						</div>

						<div class="form-group col-md-6">
							<label for="adresse">Adresse</label>
							<input type="text" class="form-control" name="adresse" placeholder="adresse"
							th:value="${patient.adresse}"/>
						</div>

					</div>

					<!--===================================================================== -->
				    <!--==================== Date Naissance et Medecine  ============= -->
					<!-- ==================================================================== -->
					
					<div class="form-row">
						
						<div class="form-group col-md-6">
							<label for="date">Date Naisssance</label> 
							<input required="required" type="date" class="form-control"  th:value="${patient.date}" 
							name="date"/>
						</div>
						<div class="form-group col-md-6" th:object="${m}">
							<label for="medecine">Medecine</label>
						        <select class="form-control"  name="medecin" required="required" 
						                oninvalid="setCustomValidity('veuillez Ajouter Un Medecin ')"
									    oninput="setCustomValidity('')" >
						            <option 
						                th:each="m : ${listeMedecin}"
						                th:value="${m.cin}"
						                th:text="${m.nomprenom}">              	
						            </option>
						        </select>
						</div>	
					</div>

					<!--===================================================================== -->
				    <!--==================== Button Ajouter  ============= -->
					<!-- ==================================================================== -->

					<div class="form-group col-md-12">
						<button type="submit" class="btn btn-primary mb-2 btn_ajout"> 
							<span class="glyphicon glyphicon-ok"></span> 
							Ajouter 
						</button>
					</div>

			</form>

			<!--===================================================================== -->
			<!--==================== Fin Formulaire   ============= -->
		    <!-- ==================================================================== -->
		</div>

	</article>


	<!--=============================================================================================================== -->
    <!--===========================================  FIN Center  ============================================= -->
	<!-- =============================================================================================================== -->

	<!--=============================================================================================================== -->
    <!--===========================================   Teste de Controler   ============================================ -->
	<!-- =============================================================================================================== -->

			<!--===================================================================== -->
			<!--==================== Message D'erreur en cas CIN existe ============= -->
		    <!-- ==================================================================== -->

			<div th:if="${CinExiste}">

				<p th:if="${CinExiste==true}"> 
					
				     <script type="text/javascript">

				     	alert(' CIN existe déjà ');

				     </script>
				</p>

			</div>

			<!--===================================================================== -->
			<!--=============== FIN  Message D'erreur en cas CIN existe ============= -->
		    <!-- ==================================================================== -->

			<!--===================================================================== -->
			<!--========== Message D'erreur en cas Login et Password  existent  ======= -->
		    <!-- ==================================================================== -->

			<div th:if="${LoginPasswordExiste}">

				<p th:if="${LoginPasswordExiste==true}"> 
					
				     <script type="text/javascript">

				     	alert(' Username et Password existent déjà ');

				     </script>
				</p>
				
			</div>

			<!--===================================================================== -->
			<!--====== FIN Message D'erreur en cas Login et Password  existe  ======= -->
		    <!-- ==================================================================== -->

	<!--=============================================================================================================== -->
    <!--===========================================   Teste de Controler   ============================================ -->
	<!-- =============================================================================================================== -->

   <!--=============================================================================================================== -->
  <!--=========================================== Changer Image   ============================================= -->
  <!-- =============================================================================================================== -->

  <script type="text/javascript">
    
    function changerImage(input)
    {

      $('#label')[0].src = (window.URL ? URL : webkitURL).createObjectURL(input.files[0]);

    }

  </script>

  <!--=============================================================================================================== -->
  <!--===========================================  FIN Changer Image   ============================================= -->
  <!-- =============================================================================================================== -->
	
</body>

	<!--=============================================================================================================== -->
    <!--===========================================   FIN  body ============================================= -->
	<!-- =============================================================================================================== -->

</html>
