<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<!--=============================================================================================================== -->
    <!--===========================================   Head  ============================================= -->
	<!-- =============================================================================================================== -->

	<div th:include="Admin/Include::head"></div>

	<!--=============================================================================================================== -->
    <!--===========================================  FIN head  ============================================= -->
	<!-- =============================================================================================================== -->

	<!--=============================================================================================================== -->
    <!--===========================================   Menu Header ============================================= -->
	<!-- =============================================================================================================== -->

<body>

	<!--=============================================================================================================== -->
    <!--=========================================== Menu Header ============================================= -->
	<!-- =============================================================================================================== -->
		 
		<div th:include="Admin/Include::header"></div>

	<!--=============================================================================================================== -->
    <!--===========================================  FIN Menu Header ============================================= -->
	<!-- =============================================================================================================== -->
	
	<!--=============================================================================================================== -->
    <!--=========================================== Center  ============================================= -->
	<!-- =============================================================================================================== -->
	
	<article>

		<div class="container">

			<form action="/Admin/ModifierPatient" method="post" enctype="multipart/form-data">


					<!--===================================================================== -->
		           <!--==================== Image ============= -->
		           <!-- ==================================================================== -->
		           
		           <div class="form-group">

		            <center>
		              <img th:src="@{'/img/'+${patient.image}}"  class="rounded float-left" 
		                   id="label" name="label" style="width: 200px;height: 200px;" /> 
		            </center>

		           </div>

					<div class="form-row">

			           <center>
			              <input type="file" class="form-control-file" id="image" name="image" 
                			onchange="changerImage(this);"  />
                		</center>	

			        </div>

			        <br/>
				
					<!--===================================================================== -->
				    <!--==================== cin nom prenom  ============= -->
					<!-- ==================================================================== -->

					<div class="form-row">

						<div class="form-group col-md-6">
							<label for="Prenom">CIN</label>
							<input class="form-control" type="text" 
								th:value="${patient.cin}" name="cin"   
								pattern="[0-9]*" minlength="8" maxlength="8"
								oninvalid="setCustomValidity(' CIN obligatoire : 8 chiffres ')"
								oninput="setCustomValidity('')"  readonly="readonly" />
							
						</div>
						<div class="form-group col-md-6">
							<label for="inputEmail4">Nom Prenom</label> 
							<input type="text"  required="required" pattern="[A-Z a-z]*" class="form-control" th:value="${patient.nomprenom}" 
								oninvalid="setCustomValidity(' Nom et Prenom sont obligatoires')"
								oninput="setCustomValidity('')"  
								name="nomprenom" placeholder="Nom Prenom"/>
						</div>

					</div>

					<!--===================================================================== -->
				    <!--==================== username et password   ============= -->
					<!-- ==================================================================== -->

					<div class="form-row">

						<div class="form-group col-md-6">
							<label for="login">Username</label> 
							<input type="text" class="form-control" name="login" th:value="${patient.login}"  placeholder="Username" required="required"
							oninvalid="setCustomValidity(' Username obligatoire')"
							oninput="setCustomValidity('')"  />
						</div>

						<div class="form-group col-md-6">
							<label for="password">Password</label>
							<input type="password"   class="form-control" th:value="${patient.password}" name="password" placeholder="Password" required="required"
							oninvalid="setCustomValidity(' Password obligatoire')"
							oninput="setCustomValidity('')"  />
						</div>

					</div>

					<!--===================================================================== -->
				    <!--==================== telephone et domocile   ============= -->
					<!-- ==================================================================== -->

	  				<div class="form-row">

						<div class="form-group col-md-6">
							<label for="telephone">Telephone</label> 
							<input type="text"   class="form-control" th:value="${patient.telephone}" name="telephone" placeholder="telephone"
								pattern="[0-9]*" minlength="8" maxlength="8"
								oninvalid="setCustomValidity('Telephone valide : 8 chiffres ')"
								oninput="setCustomValidity('')" />
						</div>

						<div class="form-group col-md-6">
							<label for="password">Domicile</label>
							<input type="text" class="form-control"  th:value="${patient.domicile}" name="domicile" placeholder="domicile"
								pattern="[0-9]*" minlength="8" maxlength="8"
								oninvalid="setCustomValidity('Domicile valide : 8 chiffres ')"
								oninput="setCustomValidity('')" />
						</div>

					</div>

				    <!--===================================================================== -->
				    <!--==================== email Adress  ============= -->
					<!-- ==================================================================== -->

	  				<div class="form-row">

						<div class="form-group col-md-6">
							<label for="email">Email</label> 
							<input type="text" class="form-control"  th:value="${patient.email}" name="email" placeholder="email"
							oninvalid="setCustomValidity('Email valide : _____@_____ ')"
							 oninput="setCustomValidity('')" />
						</div>

						<div class="form-group col-md-6">
							<label for="adresse">Adresse</label>
							<input type="text" class="form-control"  th:value="${patient.adresse}" name="adresse" placeholder="adresse"/>
						</div>

					</div>

					<!--===================================================================== -->
				    <!--==================== Date Naissance et Medecin  ============= -->
					<!-- ==================================================================== -->
					
					<div class="form-row">
						
						<div class="form-group col-md-6">
							<label for="date">Date Naisssance</label> 
							<input required="required"   type="date" class="form-control"  th:value="${patient.date}" name="date"/>
						</div>
						<div class="form-group col-md-6" th:object="${m}">
							<label for="medecine">Medecine</label>
						    <select class="form-control"  name="medecin" required="required" 
									oninvalid="setCustomValidity('veuillez Ajouter Un Medecin ')"
									oninput="setCustomValidity('')" >
						        <option 
						                th:each="m : ${listeMedecin}"
						                th:value="${m.cin}"
						                th:text="${m.nomprenom}"
						                th:selected="${m.cin == patient.medecin}">
						               	
						        </option>
						    </select>
						    
						</div>
							
					</div>

					<!--===================================================================== -->
				    <!--==================== Button Enregister   ============= -->
					<!-- ==================================================================== -->

					<div class="form-group col-md-12">

						<button type="submit" class="btn btn-primary mb-2">
						  	<span class="glyphicon glyphicon-saved"></span>
						  	Enregistrer
						</button>

					</div>
			</form>

		</div>

	</article>

	<!--=============================================================================================================== -->
    <!--=========================================== FIN  Center  ============================================= -->
	<!-- =============================================================================================================== -->

  <!--=============================================================================================================== -->
  <!--===========================================  FIN Center  ============================================= -->
  <!-- =============================================================================================================== -->

  <!--=============================================================================================================== -->
  <!--=========================================== Changer Image   ============================================= -->
  <!-- =============================================================================================================== -->

  <script type="text/javascript">
    
    function changerImage(input)
    {

      $('#label')[0].src = (window.URL ? URL : webkitURL).createObjectURL(input.files[0]);

    }

  </script>

  <!--=============================================================================================================== -->
  <!--===========================================  FIN Changer Image   ============================================= -->
  <!-- =============================================================================================================== -->
  
</body>

	<!--=============================================================================================================== -->
    <!--=========================================== FIN  Body  ============================================= -->
	<!-- =============================================================================================================== -->

</html>
